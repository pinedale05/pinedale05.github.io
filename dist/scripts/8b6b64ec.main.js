window.PopCorn={Config:{},Modules:{},Models:{},Collection:{},Views:{}},PopCorn.Config={URL:"https://api.themoviedb.org/3/",API_KEY:"a72102da66ee19ab12bb96649561c471"},PopCorn.Modules.Request=function(){return getCompleteData=function(a){return $.extend({api_key:PopCorn.Config.API_KEY},a)},getCompleteUrl=function(a){return PopCorn.Config.URL+a},requestAjax=function(a,b,c,d){$.ajax({data:getCompleteData(c),url:getCompleteUrl(b),type:a,success:d})},{GET:function(a,b,c){requestAjax("GET",a,b,c)}}}(),PopCorn.Views.movieView=function(){return imageUrl=function(a){return"http://image.tmdb.org/t/p/w150"+a},{moviesView:{},movie:{},init:function(a,b){this.moviesView=b,this.movie=a,this.render()},render:function(){var a=$(this.moviesView.el);a.append("<li class='"+this.movie.id+"'><img src='"+imageUrl(this.movie.poster_path)+"' /></li>")}}}(),PopCorn.Views.moviesView={render:function(a){var b=this;$.each(a,function(a,c){PopCorn.Views.movieView.init(c,b)})}},PopCorn.Collection.Movies=function(){return{collection:[],data:{},init:function(){this.fetch()},fetch:function(){PopCorn.Modules.Request.GET(this.path,this.data,this.loadCollection.bind(this))},loadCollection:function(a){this.collection=a.results,PopCorn.Views.moviesView.el=this.el,PopCorn.Views.moviesView.render(this.collection)}}},$(function(){PopCorn.Collection.MoviesPopular=new PopCorn.Collection.Movies,PopCorn.Collection.MoviesTopRated=new PopCorn.Collection.Movies,PopCorn.Collection.MoviesPopular.path="movie/popular",PopCorn.Collection.MoviesPopular.el=".popular-movies",PopCorn.Collection.MoviesTopRated.path="movie/top_rated",PopCorn.Collection.MoviesTopRated.el=".top-rated-movies",PopCorn.Collection.MoviesPopular.init(),PopCorn.Collection.MoviesTopRated.init()});